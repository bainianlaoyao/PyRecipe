# Markdown菜谱生成器 - 使用指南

## 简介

Markdown菜谱生成器可以将程序定义的菜谱自动转换为结构化的Markdown格式菜谱文档。

## 快速开始

### 1. 定义菜谱

使用`@定义菜谱`装饰器定义你的菜谱：

```python
from 菜谱框架 import *

@定义菜谱("番茄炒蛋")
def 番茄炒蛋(菜: 菜谱构建器):
    """番茄炒蛋"""
    番茄 = 菜.切(菜.取食材("番茄", 个(2)), "块")
    鸡蛋 = 菜.取食材("鸡蛋", 个(3))
    葱 = 菜.切(菜.取食材("葱", 根(1)), "段")
    油 = 菜.取食材("油", 克(15))
    盐 = 菜.取食材("盐", 克(3))

    打散蛋 = 菜.自定义([鸡蛋], "打散", "蛋液")
    炒蛋 = 菜.炒([打散蛋], 时间_秒=30, 用油=10, 名称="炒鸡蛋")
    炒番茄 = 菜.炒([番茄], 时间_秒=20, 用油=5, 名称="炒番茄")
    混合 = 菜.混合([炒蛋, 炒番茄], "翻炒均匀", "番茄炒蛋")
    最终 = 菜.调味([混合, 葱], ["盐"], "番茄炒蛋")

    return 最终
```

### 2. 生成Markdown菜谱

#### 方式1: 预览菜谱（在控制台查看）

```python
from 菜谱框架 import 预览菜谱

预览菜谱("番茄炒蛋")
```

#### 方式2: 生成单个菜谱文件

```python
from 菜谱框架 import 生成菜谱文档

生成菜谱文档(
    "番茄炒蛋",
    输出文件="我的菜谱/番茄炒蛋.md",
    包含统计=True
)
```

#### 方式3: 批量生成所有菜谱

```python
from 菜谱框架 import 生成所有菜谱

# 每个菜谱单独文件
生成所有菜谱(
    输出目录="我的菜谱",
    单文件=False
)

# 或者合并到一个文件
生成所有菜谱(
    输出目录="我的菜谱",
    单文件=True
)
```

## 生成的Markdown格式

生成的菜谱文档包含以下部分：

```markdown
# 菜谱名称

## 食材清单

- **食材1**: 数量
- **食材2**: 数量
...

## 烹饪步骤

1. 步骤1
2. 步骤2
...

---

## 备注

- 本菜谱由Pythonic菜谱框架自动生成
- 菜谱ID: XX
```

## 示例输出

### 输入代码

```python
@定义菜谱("番茄炒蛋")
def 番茄炒蛋(菜: 菜谱构建器):
    番茄 = 菜.切(菜.取食材("番茄", 个(2)), "块")
    鸡蛋 = 菜.取食材("鸡蛋", 个(3))
    油 = 菜.取食材("油", 克(15))
    盐 = 菜.取食材("盐", 克(3))

    打散蛋 = 菜.自定义([鸡蛋], "打散", "蛋液")
    炒蛋 = 菜.炒([打散蛋], 时间_秒=30, 用油=10, 名称="炒鸡蛋")
    炒番茄 = 菜.炒([番茄], 时间_秒=20, 用油=5, 名称="炒番茄")
    混合 = 菜.混合([炒蛋, 炒番茄], "翻炒均匀", "番茄炒蛋")
    最终 = 菜.调味([混合], ["盐"], "番茄炒蛋")

    return 最终
```

### 输出Markdown

```markdown
# 番茄炒蛋

## 食材清单

- **番茄**: 2个
- **鸡蛋**: 3个
- **油**: 15克
- **盐**: 3克

## 烹饪步骤

1. 取出 2个 的 `番茄 #1` (2个)
2. 将 `番茄 #1` (2个) 切成块，得到 `番茄_切块 #3`
3. 取出 3个 的 `鸡蛋 #5` (3个)
4. 取出 15克 的 `油 #7` (15克)
5. 取出 3克 的 `盐 #9` (3克)
6. 将 `鸡蛋 #5` (3个) 打散，得到 `蛋液 #11`
7. 将 `蛋液 #11` 炒30秒，用10克油，得到 `炒鸡蛋 #13`
8. 将 `番茄_切块 #3` 炖20秒，用5克油，得到 `炒番茄 #15`
9. 将 `炒鸡蛋 #13`, `炒番茄 #15` 翻炒均匀，得到 `番茄炒蛋 #17`
10. 将 `番茄炒蛋 #17` 加入盐，得到 `番茄炒蛋 #19`

---

## 备注

- 本菜谱由Pythonic菜谱框架自动生成
- 菜谱ID: 19
```

## 高级用法

### 自定义菜谱集

选择特定菜谱生成文档：

```python
from 菜谱框架 import Markdown菜谱生成器

生成器 = Markdown菜谱生成器()

自定义菜谱列表 = [
    "番茄炒蛋",
    "清蒸鱼",
    "红烧肉",
]

生成器.批量生成菜谱文档(
    自定义菜谱列表,
    输出目录="家常菜集",
    单文件=True
)
```

### 列出所有已注册菜谱

```python
from 菜谱框架 import Markdown菜谱生成器

生成器 = Markdown菜谱生成器()
菜谱列表 = 生成器.列出所有菜谱()

print("可用的菜谱:")
for 菜谱 in 菜谱列表:
    print(f"  - {菜谱}")
```

## 完整示例

查看以下文件获取完整示例：

- `测试markdown生成.py` - 简单测试程序
- `示例/生成markdown菜谱.py` - 完整功能演示

## 运行示例

```bash
# 运行测试程序
python 测试markdown生成.py

# 运行完整示例
python 示例/生成markdown菜谱.py
```

## 注意事项

1. **文件编码**: 生成的Markdown文件使用UTF-8编码
2. **目录创建**: 输出目录会自动创建
3. **菜谱ID**: 每次运行程序时菜谱ID会递增
4. **统计信息**: 包含食材的汇总统计

## 未来功能

- [ ] 支持营养成分信息
- [ ] 支持烹饪时间估算
- [ ] 支持难度等级
- [ ] 支持图片插入
- [ ] 支持导出为PDF
- [ ] 支持多种主题样式
